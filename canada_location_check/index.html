<!-- Styles -->
<style>
#chartdiv {
  width: 100%;
  height: 500px
}

</style>

<!-- Resources -->
<script src="https://cdn.amcharts.com/lib/4/core.js"></script>
<script src="https://cdn.amcharts.com/lib/4/maps.js"></script>
<script src="https://cdn.amcharts.com/lib/4/geodata/data/countries2.js"></script>
<script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>

<!-- Chart code -->
<script>
  am4core.ready(function() {
  am4core.useTheme(am4themes_animated);
  window.onload = function() {
    jQuery.getJSON(
      "https://www.amcharts.com/tools/country/?v=xz6Z", 
      function( geo ) {  
        var defaultMap = "usaAlbersLow";
        var currentMap = defaultMap;
        var title = "";
          if ( am4geodata_data_countries2[ geo.country_code ] !== undefined ) {
            currentMap = am4geodata_data_countries2[ geo.country_code ][ "maps" ][ 0 ];
            // add country title
            if ( am4geodata_data_countries2[ geo.country_code ][ "country" ] ) {
              title = am4geodata_data_countries2[ geo.country_code ][ "country" ];
            }
          }
           var chart = am4core.create("chartdiv", am4maps.MapChart);
          chart.titles.create().text = title;
          chart.geodataSource.url = "https://www.amcharts.com/lib/4/geodata/json/" + currentMap + ".json";
          chart.geodataSource.events.on("parseended", function(ev) {
            var data = [];
            for(var i = 0; i < ev.target.data.features.length; i++) {
              data.push({
                id: ev.target.data.features[i].id,
                value: Math.round( Math.random() * 10000 )
              })
            }
            polygonSeries.data = data;
          })


      }
    )
  }

</script>